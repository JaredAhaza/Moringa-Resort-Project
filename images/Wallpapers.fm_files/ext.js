function e(){if(!document.addEventListener||"chrome"!==I&&"firefox"!==I&&"safari"!==I)document.attachEvent?document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(p(),d(),u())}):B();else{if(le="https://chrome.google.com/webstore/detail/"+V.cws_id,ce=!0===y()?"mac":"","chrome"===I){if(v(V.cws_id),"2step"===P.complianceType&&v(ae.crx2ID,!0),h(V.cws_id),t(),P.enableComplianceChrome||(P.complianceType="arrow"),o(),"undefined"!=typeof cws_btn_selector){if((e=document.getElementsByClassName(cws_btn_selector.replace(".",""))).length>0)for(r=0;r<e.length;r++)e[r].onclick=function(){return triggerInstall()};else document.querySelector(cws_btn_selector)&&(document.querySelector(cws_btn_selector).onclick=function(){return triggerInstall()})}}else if("firefox"===I){if(window.addEventListener("load",function(){C($.xpi_alias),t(),u(),P.enableComplianceFF||(P.complianceType="arrow")}),"undefined"!=typeof ff_btn_selector){var e=document.getElementsByClassName(ff_btn_selector.replace(".",""));if(e.length>0)for(var r=0;r<e.length;r++)e[r].onclick=function(){return triggerInstall()};else document.querySelector(ff_btn_selector)&&(document.querySelector(ff_btn_selector).onclick=function(){return triggerInstall()})}}else if("safari"===I&&P.safari){null!==document.querySelector("#extension-is-installed")?(el.innerHTML="Extension is already installed",el.style.background="#eee",el.style.cursor="auto",el.style.color="#222",el.setAttribute("disabled","disabled")):document.onreadystatechange=function(){if("interactive"===this.readyState||"complete"===this.readyState){document.querySelector("body").insertAdjacentHTML("beforeend","          <div class='safari_lb' style='display:none;position: fixed; width:100%;height:100%;top:0;left:0;background: rgba(0,0,0,0.8);font-family: Arial, Helvetica, sans-serif;'>          <div style='display: block;position: absolute;  top:50%; left:50%;width:320px;height:320px;margin-left:-160px;margin-top:-160px;border-radius: 50%; background: #0176d4;padding:50px 40px 40px 40px;box-sizing: border-box;text-align: center;color: #fff; border: 3px solid #fff;-webkit-box-shadow: 0px 2px 35px 0px rgba(0,0,0,0.75);'>          <span style='font-size: 20px;font-weight: bold; color: #FFEB3B;'>You're almost done!</span><br>          <div style='font-size: 12px; font-weight: bold;padding-top:5px;'>Open your Downloads folder and click</div>          <div style='font-size: 35px;font-weight: bolder;padding-top:10px; margin:0px;color:#CDDC39;text-shadow: 1px 1px 0px rgba(51, 105, 30, 1);'>Fileconvertor</div>          <span>to enable your experience</span><br>          <img src='http://searchtabnew.com/assets/inline_install/safarifolder.png' style='padding-top:20px;'>          </div>          </div>          ")}}}ue=!0,n()}}function t(){if(d(),c(V.asset_url,I,ce),a(V.asset_url),"arrow"===P.complianceType||"compArrow"===P.complianceType){var e=document.getElementById("closeHelp");e&&e.addEventListener("click",function(){document.querySelector(".tr2s_arrow").style.display="none",document.getElementById("lightbox").style.display="none"})}else"modalBtn"===P.complianceType?(i(V.asset_url),r(),se=document.getElementById("tr_partner_modal").innerHTML):"2step"===P.complianceType&&l()}function o(){var e=document.querySelector(".tr2s_cancelmodal"),t=document.querySelector(".tr2s_yes"),o=document.querySelector(".tr2s_no"),r=document.getElementById("lightbox"),n=document.querySelector(".tr2s_lbContainer");t.addEventListener("click",function(t){t.preventDefault();var o=document.querySelector(".tr2s_arrow");"compArrow"===P.complianceType&&(o=document.querySelector(".tr2s_compArrow")),fe||xe||!P.skippableFlow||"2step"!==P.complianceType?(o.style.display="none",r.style.display="none",e.style.display="none"):(r.style.display="block",e.style.display="none",m("success"))}),o.addEventListener("click",function(t){t.preventDefault(),e.style.display="none","2step"!==P.complianceType?triggerInstall(P.complianceType):(n.style.display="block",fe||xe?fe&&!xe&&loadCRXInstall("https://chrome.google.com/webstore/detail/"+ae.crx2ID):loadCRXInstall())})}function r(){var e=document.getElementById("tr_partner_modal");document.getElementById("lightbox-btn").addEventListener("click",function(t){"chrome"===I?w(V.bundle_path,V.bundle_code,V.cws_id):"firefox"===I&&w($.bundle_path,$.bundle_code),triggerInstall(null,"arrow"),e.style.display="none"}),document.getElementById("skipbtn").addEventListener("click",function(e){""!==U?document.getElementById("skipbtn").setAttribute("href",U):document.getElementById("skipbtn").setAttribute("href",V.binary_url.toString()),document.getElementById("lightbox").style.display="none",document.getElementById("tr_partner_modal").style.display="none"})}function n(){var e=document.querySelector("head"),t='.modal-btn #no-btn{background:#898989}.edgePopup{z-index:10000;display:none;position:fixed;bottom:50px;left:50%;transform:translateX(-50%)}#arrow-modal{z-index:100502;    background-image:url("http://searchtabnew.com/assets/inline_install/xpi-base.png")!important; background-repeat:no-repeat;top:0px;left:0px;}    #arrow-modal.mac{z-index:100502;    background-image:url("http://searchtabnew.com/assets/inline_install/xpi-base-mac.png")!important; background-repeat:no-repeat;top:0px;left:0px;    width:260px;height:auto;color:#000;font-family:arial;border-radius:0px}#arrow-modal,#arrow-modal img,#partner-modal{position:relative}#lightbox,#arrow-modal{display:none;position:fixed;}#lightbox{top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, .7);text-align:center;z-index:1000}.close{margin-top:-65px;margin-right:-28px;float:right;color:#fff;font-size:1.5em;text-decoration:none}#modal-top{box-sizing:content-box;background:url("'+G.logo_url+'") center no-repeat;color:#5b449b;font-size:24px;font-weight:600;text-align:center;height:72px;padding-left:110px;padding-top:45px}#modal-body,#modal-body a{text-align:left;color:#8f8f8f;font-size:14px}#modal-body{margin-bottom:35px}#modal-body .lightbox-text-body{padding-left:30px;margin-top:-20px;line-height:1.4}div#copyLinkDiv a#copyLink,div#copyLinkDiv p{font-size:15px;color:#3d3d3d}div#copyLinkDiv a#copyLink{color:#1169B1;margin-top:0;display:block}div.cta-btns{display:inline-block;width:100%}div.modal-btn a{display:block;text-align:center;width:110px;padding:10px;border-radius:5px;background-color:#c7c7c7;margin:10px;float:left;text-decoration:none;font-size:18px;color:#fff}div.modal-btn a:hover{background-color:#cacaca}',o="#tr_partner_modal #copyinput #copy1{text-align:center}#tr_partner_modal #copyinput #copy1 .tr-ds a{color:#898989}#tr_partner_modal .tr-supporttext{color:#2baaff;padding-top:55px;font-weight:bold;text-align:center;font-size:18px;line-height:25px}#tr_partner_modal #extensionheader .tr-logo{padding-right:20px}#tr_partner_modal #extensionheader .tr-subtitle{font-size:13px;margin:0px;padding-left:65px;margin-top:-2px}#tr_partner_modal #extensionheader{background:#ffffff;color:#1c1f23;font-size:25px;text-align:center;padding:20px 0px 10px 0px;position:absolute;top:0px;left:0px;width:600px}#tr_partner_modal{border-radius:5px;background-color:#f1f1f1;width:600px;padding:55px 55px 10px 55px;box-sizing:border-box;position:absolute;margin:7% auto 15px -260px;box-shadow:2px 5px 3px #1D1D1D;background-position:right 0;background-repeat:repeat-y;overflow:hidden;min-height:285px;top:75px;left:50%;z-index:2000}#tr_partner_modal h1{margin-top:0;font-size:21px}#tr_partner_modal p{text-align:center;font-size:9px;color:#898989;line-height:16px}#tr_partner_modal #copyinput{display:inline-block;margin:0;margin-top:-20px}#tr_partner_modal #copy1 #label{font-size:11px;text-transform:uppercase;color:#364152;font-weight:700}#tr_partner_modal .eshield_linktext{padding:12px 15px 10px;background-image:none;background-repeat:no-repeat;background-position:10px 11px;background-color:#FCFCFC;border:1px solid #E5E5E5;display:block;float:left;font-family:monospace;font-size:13px;margin-right:5px;word-wrap:break-word;width:390px;margin-bottom:10px}#tr_partner_modal .tr_ctaBtn,#tr_partner_modal .tr_ctaBtn_skip{display:inline-block;text-decoration:none;text-align:center;background-color:#0099ff;cursor:pointer;color:#fff;font-size:18px;font-weight:bold;padding:20px 30px;border-radius:4px;margin:10px 0px;width:200px;transition:0.2s background}#tr_partner_modal .tr_ctaBtn:hover{background:#0b6daf}#tr_partner_modal .tr_ctaBtn_skip{background:none;color:#a0a0a0;font-weight:normal;font-size:13px;padding:30px 0px;margin-right:30px;padding-left:10px}#tr_partner_modal #copy2{font-size:14px;margin:0 0 20px;background-color:#EFE;padding:10px;box-sizing:border-box;color:#828282}#tr_partner_modal #browserimg{height:300px;width:auto;display:block;margin:0 auto;margin-top:-30px}#tr_partner_modal p#optional{margin:10px 0px;font-size:11px;box-sizing:border-box}".concat("#arrow-modal #closeHelp{position:absolute;color:#666;top:25px;right:15px;text-decoration:none}#arrow-modal p.ffHelp{margin-top:20px}#arrow-modal .tr-ds a{color:#898989}#arrow-modal .tr-ds{font-size:9px;color:#898989;line-height:10px;width:250px;position:absolute;bottom:15px}#arrow-modal #browserimg{position:absolute;width:300px;display:block;margin:0 auto;margin-top:-20px;left:0px}#arrow-modal .tr-title{text-align:left;font-size:13px;color:#2baaff;top:130px;font-weight:bold;line-height:18px;width:230px;position:absolute;right:20px}#arrow-modal .tr-subtitle{font-size:12px;position:absolute;right:30px;top:90px;color:#898989}#arrow-modal .tr-logo{display:block;position:absolute;right:25px;top:30px}#arrow-modal{top:315px;margin-right:-70px;right:50%;font-size:18px;padding:20px}div#arrow-modal.mac{margin-right:-225px}  div#arrow-modal.firefox.mac{top:150px;right:0;left:125px;margin-right:0}  div#arrow-modal.firefox{top:150px;right:0;left:45px;margin-right:0;width:278px;height:146px}#arrow-modal p,#arrow-modal strong{font-size:18px;margin:0;text-align:left}#arrow-modal .bounce{top:-50px;right:6px;position:absolute}#arrow-modal.comp{width: 500px; height: 200px}","#cancel-modal p{color:#000;font-size:18px;width:95%;margin-left:12px;text-align:center}#cancel-modal{background: white;z-index: 10000000;display:none;transform:translate(-50%, -50%);position:fixed;left:50%;top:50%;height:auto;padding:20px;box-shadow:1px 2px 2px #666;width: 350px;}",t),r=document.createTextNode(o),n=document.createElement("STYLE");n.appendChild(r);var a=document.createTextNode("@-webkit-keyframes tr_arrow{0%,20%,50%,80%,100%{-webkit-transform:translateY(0)}40%{-webkit-transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px)}}@keyframes tr_arrow{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}};@-webkit-keyframes tr_left_arrow{0%, 20%, 50%, 80%, 100%{-webkit-transform: translateX(0)}40%{-webkit-transform: translateX(-30px)}60%{-webkit-transform: translateX(-15px)}}@keyframes tr_left_arrow{0%, 20%, 50%, 80%, 100%{transform: translateX(0)}40%{transform: translateX(-30px)}60%{transform: translateX(-15px)}}"),i=document.createElement("STYLE");i.appendChild(a),e.appendChild(n),e.appendChild(i)}function a(e){document.querySelector("body").insertAdjacentHTML("beforeend",'  <div class="tr2s_cancelmodal" style="z-index: 10000;font-family:\'Open Sans\',sans-serif;box-sizing:initial;display:none;width:350px;height:135px;background:#fbfbfb;border-radius:3px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;padding:20px;text-align:center">    <p class="tr2s_st6" style="font-size:20px;margin: 10px 0px;">      Are you sure you want to cancel the installation?    </p>    <a href="" class="tr2s_button tr2s_yes" style="margin-top:10px;text-decoration:none;display:inline-block;width:100px;background:#0888bb;text-align:center;padding:10px 5px;color:#fff;border-radius:3px;font-weight:700opacity:0.8;margin-right:50px;opacity:0.6;" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">YES</a>    <a href="" class="tr2s_button tr2s_no" style="margin-top:10px;text-decoration:none;display:inline-block;width:100px;background:#0888bb;text-align:center;padding:10px 5px;color:#fff;border-radius:3px;font-weight:700" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">NO</a>  </div>  ')}function i(e){var t=document.querySelector("body"),o='<div id="tr_partner_modal" class="dialog" style="display:none;"><div id="extensionheader"><img class="tr-logo" src="'+G.logo_url+'"><p class="tr-subtitle">Web Search Optional Offer</p></div><p class="tr-supporttext">Help keep '+G.partner_name+" downloads free by trying out Web Search offer by "+G.partner_name+'</p><img id="browserimg" src="'+G.screenshot_url+'"><div class="col">  <div id="copyinput">    <div id="copy1">      <div id="label" style="display:none;">Download Requested:</div>        <a class="eshield_linktext" style="display:none;" value="'+V.binary_url+'" disabled="">'+V.binary_url+'</a>         <a id="skipbtn" class="tr_ctaBtn_skip" style="width: 100px; href="#">Skip Offer</a>        <a class="eshield_btn tr_ctaBtn" id="lightbox-btn" href="#"><span>Add & Download</span></a>  <p class="tr-ds">Please read carefully: By clicking the button above and installing the Web Search Chrome extension, I accept and agree to abide by the <a href="'+G.terms_of_service+'" target="_blank">Terms of Use</a> and <a href="'+G.privacy_policy+'" target="_blank">Privacy Policy</a>.</p>      </div>      <div id="copy2" style="display:none;">      <strong>SearchTabNew Offer Skipped</strong><br>      URL successfully copied. Paste URL into Internet Explorer and Firefox address bar to <strong>download.</strong>      </div>    </div>  </div>  </div>';t.insertAdjacentHTML("beforeend",o)}function l(){var e=document.querySelector("body"),t="z-index:10000;font-family:Open Sans,sans-serif;position:absolute;display:none;box-sizing:initial;margin:auto;top:0;right:0;bottom:0;left:0;width:700px;height:500px;border-radius:5px;text-align:center;padding:30px;color:#fff;background:"+ae.bgHexCode.toString()+";box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);",o="display:block;width:100%;height:160px;background:"+ae.activeBtnHexCode+";border-radius:5px;margin-bottom:30px;text-shadow:0 1px 1px rgba(0,0,0,.35);",r="display:inline-block;height:100%;color:#fff!important;float:left;width:460px;border-left:1px solid white;padding-left:15px;",n="display:inline-block;height:100%;color:#fff!important;float:left;width:150px;border-right:1px solid white;",a="display:none;position:absolute;-webkit-animation: tr_left_arrow 1.5s both infinite;animation:tr_left_arrow 1.5s both infinite;",i="chrome"===I?"loadCRXInstall()":"ffInstall()",l='<div class="tr2s_lbContainer" style="'+t+'">  <div class="tr2s_leftArrow leftArrow1" style="'+a+';top:150px;left:-120px;" ><img src="'+V.asset_url+'inline_install/green_arrow_right.png" ></div>  <div class="tr2s_leftArrow leftArrow2" style="'+a+';top:350px;left:-120px;"><img src="'+V.asset_url+'inline_install/green_arrow_right.png" ></div>  <div class="tr2s_lbClose" style="display:block;position:absolute;right:5px;top:5px;width:15px;opacity:.5;cursor:pointer;"><img src="'+V.asset_url+'inline_install/close_gray_round.png" style="width:auto;"></div>  <img src="'+ae.iconURL+'" style="height:100px; padding-bottom:30px">  <a onclick="return '+i+'" href="#" class="tr2s_step1 tr2s_btnSteps tr2s_active" style="'+o+'">  <div class="tr2s_blockLS" style="'+n+'">  '+ae.step1LS+'  </div>  <div class="tr2s_blockRS" style="'+r+'">  '+ae.step1RS+'  </div>  </a>  <a href="#" class="tr2s_step2 tr2s_btnSteps tr2s_disable" style="'+o+'cursor:auto!important;pointer-events:none;-webkit-filter:grayscale(100%);filter:grayscale(100%);opacity:1;">  <div class="tr2s_blockLS" style="'+n+'">  '+ae.step2LS+'  </div>  <div class="tr2s_blockRS" style="'+r+'">  '+ae.step2RS+"  </div>  </a>  </div>";e.insertAdjacentHTML("beforeend",l),document.querySelector(".tr2s_lbClose").addEventListener("click",s)}function s(){!fe&&P.skippableFlow?b(ae.cancelCopy):fe&&P.skippableFlow&&b("Are you sure you want to cancel the installation?");var e=document.querySelector(".tr2s_lbContainer"),t=document.querySelector(".tr2s_cancelmodal"),o=document.getElementById("lightbox");e.style.display="none",t.style.display="block",o.style.display="block"}function c(e,t,o){var r=void 0!==o?o:"",n=document.querySelector("body"),a="";if("firefox"===t)a="<div id='arrow-modal' class='"+t+" "+r+" bounce' style='position:absolute;right:30px;-webkit-animation:tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite}@-webkit-keyframes tr_arrow{0%,20%,50%,80%,100%{-webkit-transform:translateY(0)}40%{-webkit-transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px)}}@keyframes tr_arrow{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}'>",a+="<div class='inner_modal' style='padding:15px 0px 0px 100px;'>",a+="<p>Click Above</p>",a+='<p><strong>"Allow"</strong> to</p>',a+="<p>Add To "+t+"</p>",a+="<a href='#' id='closeHelp'>X</a>",a+="</div>\x3c!-- /inner_modal --\x3e",a+="</div>";else if("compArrow"===P.complianceType){a='<div class="tr2s_compArrow" style="z-index:10000;font-family:\'Open Sans\',sans-serif;display:none;width:450px;height:180px;background:#fbfbfb;border-radius:5px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:330px;right:200px;left:0;padding:20px">',a+='<div class="tr2s_animatedArrow" style="'+(i="display:block;position:absolute;top:-70px;right:50px;-webkit-animation: tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite;")+'"><img src="'+V.asset_url+'inline_install/green_arrow.png" style="display:block;position:relative;-webkit-animation:tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite"></div>',a+='<div class="tr2s_compArrowBox" style="display:inline-block;width:49%;vertical-align:top">',a+='<img src="'+G.screenshot_url+'" style="width:95%">',a+='<p class="tr2s_st7" style="font-size:11px;line-height:11px;width:95%;margin:0">Please read carefully: By clicking the button above and installing the Web Search Chrome extension, I accept and agree to abibe by the  Terms of Use and Privacy Policy</p>',a+="</div>",a+='<div class="tr2s_compArrowBox">',a+='<img src="'+G.logo_url+'">',a+='<p class="tr2s_st8" style="font-size:13px;line-height:14px">Add Extension above to continue downloading Horizon and enhance your Web Search powered by Yahoo</p>',a+="</div>",a+="</div>"}else{var i="display:block;position:absolute;top:-70px;right:50px;-webkit-animation: tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite;";a='<div class="tr2s_arrow" style="'+("z-index:10002;font-family:Open Sans,sans-serif;display:none;width:300px;height:auto;background:#fbfbfb;border-radius:3px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:330px;right:"+("mac"===r?"-125px":"100px")+";left:0;padding:20px")+'">',a+='<div class="tr2s_animatedArrow" style="'+i+'"><img style=display:block;position:relative; src="'+V.asset_url+'inline_install/green_arrow.png"></div>',a+='<p class="tr2s_st9" style=font-size:18px>Click Above<br><strong>"Add Extension"</strong><br> to Add to Chrome</p>',a+="</div>"}n.insertAdjacentHTML("beforeend",a),"firefox"===t&&document.querySelector("#closeHelp").addEventListener("click",f)}function p(){$body=document.querySelector("body");var e="<div class='edgePopup'><img src='"+V.asset_url+"bouncingarrow_down.gif'/><img src='"+V.asset_url+"ie_edge_cti_instructions.png'/></div>";$body.insertAdjacentHTML("beforeend",e)}function d(){document.querySelector("body").insertAdjacentHTML("beforeend","<div id='lightbox'></div>")}function u(){var e=document.getElementById("lightbox");e.addEventListener?e.addEventListener("click",f):e.attachEvent("onclick",f)}function f(){var e=document.getElementById("lightbox"),t=document.querySelector(".tr2s_arrow");if("compArrow"===P.complianceType&&(t=document.querySelector(".tr2s_compArrow")),"firefox"===I&&(t=document.querySelector("#arrow-modal")),t.style.display="none",e.style.display="none","other"===I&&document.querySelector(".edgePopup")){document.querySelector(".edgePopup").style.display="none"}}function x(){"chrome"===I&&P.enableCRXFlow?loadCRXInstall(le):"firefox"===I&&P.enableXPIFlow&&ffInstall($.xpi_location,$.xpi_hash,$.bundle_path,$.bundle_code)}function triggerInstall(e,t){if(ue){window.scrollTo(0,0);var o=V.bundle_code;if(P.getBCFromBtn){void 0!==e&&null!==e&&e.href&&(pe=e.href);var r=pe.split("?bc=");if(r[1]){var n=r[1].indexOf("&");o=-1!==n?r[1].substring(0,n):r[1].substring(0)}}"chrome"===I?w(V.bundle_path,o,V.cws_id):"firefox"===I&&w($.bundle_path,$.bundle_code);var a=document.querySelector("#extension-is-installed");if("chrome"===I&&de)q("2step"===P.complianceType&&ge?P.dupeCheckType:P.dupeCheckType);else if("firefox"!==I&&"safari"!==I||null===a){var i=document.getElementById("lightbox"),l=t||P.complianceType;if("modalBtn"===l&&("firefox"==I&&P.enableComplianceFF||"chrome"===I&&P.enableComplianceChrome))document.getElementById("tr_partner_modal").style.display="block",i.style.display="block";else if("none"===l)if("chrome"===I&&P.enableCRXFlow)loadCRXInstall(le),i.style.display="block";else{if("firefox"!==I||!P.enableXPIFlow)return;ffInstall($.xpi_location,$.xpi_hash,$.bundle_path,$.bundle_code)}else if("arrow"===l)if("chrome"===I&&P.enableCRXFlow)document.querySelector(".tr2s_arrow").style.display="block",i.style.display="block",loadCRXInstall(le);else if("firefox"===I&&P.enableXPIFlow)document.querySelector("#arrow-modal").style.display="block",i.style.display="block",ffInstall($.xpi_location,$.xpi_hash,$.bundle_path,$.bundle_code);else{if("safari"!==I||!P.safari)return;g(P.safari.safariextz)}else if("compArrow"===l)if("chrome"===I&&P.enableCRXFlow)document.querySelector(".tr2s_compArrow").style.display="block",i.style.display="block",loadCRXInstall(le);else{if("firefox"!==I||!P.enableXPIFlow)return;document.querySelector(".tr2s_arrow").style.display="block",i.style.display="block",ffInstall($.xpi_location,$.xpi_hash,$.bundle_path,$.bundle_code)}else if("2step"===l)if("chrome"===I&&P.enableCRXFlow)document.querySelector(".tr2s_lbContainer").style.display="block",i.style.display="block",loadCRXInstall(le);else if("firefox"===I&&P.enableXPIFlow)document.querySelector(".tr2s_lbContainer").style.display="block",i.style.display="block";else{if("safari"!==I||!P.safari)return;g(P.safari.safariextz)}}else q(P.dupeCheckType);if("undefined"!=typeof cookies)for(s=0;s<cookies.length;s++)cookies[s]&&cookies[s].name&&cookies[s].querySelector&&(document.querySelector(cookies[s].querySelector)&&document.querySelector(cookies[s].querySelector).value?z(cookies[s].name,document.querySelector(cookies[s].querySelector).value,15):cookies[s].defaultValue&&z(cookies[s].name,cookies[s].defaultValue,15));if("undefined"!=typeof cookieQueryParameters)for(var s=0;s<cookieQueryParameters.length;s++)cookieQueryParameters[s]&&cookieQueryParameters[s].paramName&&E(cookieQueryParameters[s].paramName)&&z(cookieQueryParameters[s].cookieName,E(cookieQueryParameters[s].paramName),15)}else x();return!1}function g(e){document.querySelector(".safari_lb").style.display="block";var t=document.createElement("iframe");t.src=e,w(P.safari.bundle_path,P.safari.bundle_code.toString()),document.body.appendChild(t)}function loadCRXInstall(e){var t=e||le,o=document.querySelector(".tr2s_arrow");"compArrow"===P.complianceType&&(o=document.querySelector(".tr2s_compArrow"));var r=document.getElementById("lightbox"),n=document.querySelector(".tr2s_cancelmodal"),a=document.getElementById("tr_partner_modal");"2step"===P.complianceType&&(o.style.display="block",document.querySelector(".leftArrow1").style.display="none",document.querySelector(".leftArrow2").style.display="none",document.querySelector(".tr2s_lbContainer").style.zIndex="10");var i=t.match(/http[s]?:\/\/chrome\.google\.com\/.*\/([a-zA-Z]+)\/?$/);if(i&&i[1])var l=i[1];var s={};s["dimension"+tag_config.ga_index]="enabled";var c={};c["dimension"+tag_config.ga_index]="disabled",chrome.webstore.install(t,function(){l&&tag_config.ga_index&&ga("send","event","Download Button","clicked",l,s),o&&r&&(o.style.display="none",r.style.display="none"),"2step"!==P.complianceType||fe?"2step"===P.complianceType&&fe?(xe=!0,document.querySelector(".tr2s_lbContainer").style.display="none",dataLayer.push({event:"InstallSuccess2"})):dataLayer.push({event:"InstallSuccess"}):(m("success"),document.querySelector(".tr2s_lbContainer").style.zIndex="10000",dataLayer.push({event:"InstallSuccess"}))},function(e,t){l&&tag_config.ga_index&&("userCancelled"==t?ga("send","event","Download Button","clicked",l,s):"notPermitted"==t&&ga("send","event","Download Button","clicked",l,c)),console.log(t,e),"2step"===P.complianceType?(o.style.display="none",document.querySelector(".tr2s_lbContainer").style.zIndex="10000",m("fail")):(o.style.display="none",a&&(a.style.display="none"),P.enableCancelFlow&&"userCancelled"===t?n&&(n.style.display="block"):r&&(r.style.display="none"))})}function ffInstall(e,t,o,r,n){var a={TRXPI:{URL:e,IconURL:n||"",Hash:t,toString:function(){return this.URL}}},i=(InstallTrigger.install(a),document.querySelector(".tr2s_arrow")),l=document.getElementById("lightbox"),s=document.getElementById("tr_partner_modal");return"2step"===P.complianceType&&(i.style.display="block"),i&&l&&s&&setTimeout(function(){i.style.display="none",l.style.display="none",s.style.display="none"},8e3),!1}function m(e){var t=document.querySelector(".tr2s_lbContainer"),o=document.getElementById("lightbox"),r=document.querySelector(".tr2s_arrow"),n=ae.step1LSP2,a=ae.step2LSP2,i=ae.step1RSP2,l=ae.step2RSP2;if("success"===e){if(!fe){fe=!0,document.querySelector(".tr2s_leftArrow.leftArrow1").style.display="none",document.querySelector(".tr2s_leftArrow.leftArrow2").style.display="block",document.querySelector(".tr2s_blockLS").innerHTML=n,document.querySelector(".tr2s_step2 .tr2s_blockLS").innerHTML=a,document.querySelector(".tr2s_blockRS").innerHTML=i,document.querySelector(".tr2s_step2 .tr2s_blockRS").innerHTML=l;var c=document.querySelector(".tr2s_step1"),p=document.querySelector(".tr2s_step2");return c.style.pointerEvents="none",c.style.filter="grayscale(100%)",c.style.opacity=.8,p.style.pointerEvents="auto",p.style.background=ae.activeBtnHexCode,p.style.filter="none",p.addEventListener("click",function(e){e.preventDefault(),h(ae.crx2ID),ge?q("openNewtab"):(document.querySelector(".tr2s_leftArrow.leftArrow2").style.display="none",r.style.display="block",loadCRXInstall("https://chrome.google.com/webstore/detail/"+ae.crx2ID),w(ae.crx2BP,ae.crx2BC,ae.crx2ID))}),o.style.display="block",t.style.display="block",!1}}else"fail"===e&&(fe?s():(r.style.display="none",document.querySelector(".tr2s_leftArrow.leftArrow1").style.display="block"))}function b(e){document.querySelector(".tr2s_st6").innerHTML=e}function _(){var e=window.navigator.userAgent||"";return e.indexOf("Chrome")>-1?-1==e.indexOf("Edge")?"chrome":"other":e.indexOf("Firefox")>-1?"firefox":e.indexOf("MSIE 8.0")>-1?"ie8":e.indexOf("Safari")>-1?"safari":"other"}function y(){return-1!=(window.navigator.userAgent||"").indexOf("Macintosh")}function h(e){var t="<link rel='chrome-webstore-item' href='"+("https://chrome.google.com/webstore/detail/"+e)+"'>";document.querySelector("head").insertAdjacentHTML("beforeend",t)}function w(e,t,o){var r=e+t.toString()+(""===V.binary_url||"#"===V.binary_url?"":"&ProductBinaryUrl="+V.binary_url.toString())+(""===Y||"#"===Y?"":"&ThankYouUrl="+Y.toString())+(""===F.tr_campaign?"":"&c="+F.tr_campaign)+(""===Q?"":"&brand="+Q)+(""===j?"":"&aid="+j)+(""===F.pk_ping?"":"&pk="+F.pk_ping);if("undefined"!=typeof pingQueryParameters)for(var n=0;n<pingQueryParameters.length;n++)pingQueryParameters[n]&&pingQueryParameters[n].paramName&&pingQueryParameters[n].pingParamName&&E(pingQueryParameters[n].paramName)&&(r+="&"+pingQueryParameters[n].pingParamName+"="+E(pingQueryParameters[n].paramName));k(r,function(e){if(e)for(key in e)e[key]&&z(key,e[key],1)},function(e){console.log("error getting cookie json...")})}function k(e,t,o){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?t&&t(JSON.parse(r.responseText)):o&&o(r))},r.open("GET",e,!0),r.send()}function v(e,t){var o=t||!1,r="chrome-extension://"+e+"/icons/16.png",n=document.createElement("img");n.setAttribute("src",r),n.setAttribute("height","1px"),n.setAttribute("width","1px"),n.setAttribute("id","extension-check"),n.addEventListener("load",function(){de=!0,o&&(ge=!0),"2step"!==P.complianceType||fe?"2step"===P.complianceType&&fe&&q("openNewtab"):m("success")}),n.addEventListener("error",function(){de=!1,o&&(ge=!1)})}function S(e){e.innerHTML="Extension is already Installed",e.style.background="#eee",e.style.cursor="auto",e.style.color="#222",e.setAttribute("disabled","disabled")}function C(e){var t="chrome://"+e+"/skin/icon32.png",o=document.createElement("img");o.setAttribute("src",t),o.setAttribute("height","1px"),o.setAttribute("width","1px"),o.onload=function(){de=!0},o.onerror=function(){de=!1}}function E(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return null!==t?decodeURIComponent(t[1].replace(/\+/g," ")):""}function L(e,t,o,r){e.crx_1&&(e.crx_1.cws_id&&(t.cws_id=e.crx_1.cws_id),e.crx_1.bundle_path&&(t.bundle_path=e.crx_1.bundle_path),e.crx_1.bundle_code&&(t.bundle_code=e.crx_1.bundle_code)),e.crx_2&&(e.crx_2.cws_id&&(r.crx2ID=e.crx_2.cws_id),e.crx_2.bundle_path&&(r.crx2BP=e.crx_2.bundle_path),e.crx_2.bundle_code&&(r.crx2BC=e.crx_2.bundle_code)),e.xpi&&(e.xpi.xpi_location&&(o.xpi_location=e.xpi.xpi_location),e.xpi.bundle_path&&(o.bundle_path=e.xpi.bundle_path),e.xpi.bundle_code&&(o.bundle_code=e.xpi.bundle_code))}function q(e){switch(e){case"openNewtab":if("chrome"===I){var t=new Event("openNewTab",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)}else window.postMessage("openNewTab","*");break;case"serveBin":"#"===V.binary_url?window.location.href=pe:"#"!==V.binary_url&&(window.location.href=V.binary_url)}}function T(e){var t=e,o=t.length;if(o<2&&void 0!==t[0])return t[0];var r=Math.floor(Math.random()*o);return void 0!==t[r]?t[r]:void 0}function z(e,t,o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function A(e,t,o){void 0===window[e]||""===window[e]?F[t]=o:F[t]=window[e]}function B(){[].slice.call(document.querySelectorAll(".smartdl")).forEach(function(e,t){e.innerHTML="Available on Chrome and Firefox",e.style.background="#eee",e.style.cursor="auto",e.style.color="#222",e.setAttribute("disabled","disabled")})}var I=_(),P={enableCRXFlow:tag_config.config.enableCRXFlow,enableXPIFlow:tag_config.config.enableXPIFlow,skippableFlow:!1,complianceType:tag_config.config.complianceType,dupeCheckType:tag_config.config.dupeCheckType,getBCFromBtn:!1,enableComplianceFF:!1,enableComplianceChrome:!0,enableCancelFlow:!0,shared:{bundle_path:"",bundle_code:"",download_url:"",ty_url:"",skip_url:""},crx:{cws_ids:tag_config.crx_1.cws_ids,cws_bundle_code:tag_config.crx_1.bundle_code,cws_bundle_path:tag_config.crx_1.bundle_path},xpi:{xpi_alias:tag_config.xpi.alias,xpi_location:tag_config.xpi.xpi_location,xpi_hash:tag_config.xpi.xpi_hash,ff_bundle_code:tag_config.xpi.bundle_code,ff_bundle_path:tag_config.xpi.bundle_path},modal:{partner_name:tag_config.assets.partner_name,logo_url:tag_config.assets.logo_url,screenshot_url:tag_config.assets.screenshot_url,privacy_policy:tag_config.assets.privacy_policy,terms_of_service:tag_config.assets.terms_of_service},tracking:{tracking_domain:"",tracking_aid:""}};tag_config.safari&&(P.safari={safariextz:tag_config.safari.safariextz,bundle_code:tag_config.safari.bundle_code,bundle_path:tag_config.safari.bundle_path});var F={productDLURL:"",tr_bundle_path:"",tr_bundle_code:"",tr_tyurl:"",tr_campaign:"",tr_brand:"",aid_ping:"",pk_ping:"",skip_url:""};A("tr_download_url","productDLURL",""),A("tr_b_path","tr_bundle_path",""),A("tr_b_code","tr_bundle_code",""),A("tr_ty_url","tr_tyurl",""),A("tr_c","tr_campaign",""),A("tr_d","tr_brand",""),A("tr_aid","aid_ping",""),A("tr_pk","pk_ping",""),A("tr_skip_url","skip_url","");var R=F.tr_bundle_path.length>0?F.tr_bundle_path:P.shared.bundle_path,H=F.tr_bundle_code.length>0?F.tr_bundle_code:P.shared.bundle_code,D=P.crx.cws_bundle_path.length>0?P.crx.cws_bundle_path:R,M=P.crx.cws_bundle_path.length>0?P.crx.cws_bundle_code:H,N=P.xpi.ff_bundle_path.length>0?P.xpi.ff_bundle_path:R,X=P.xpi.ff_bundle_code.length>0?P.xpi.ff_bundle_code:R,O=F.productDLURL.length>0?F.productDLURL:P.shared.download_url,Y=F.tr_tyurl.length>0?F.tr_tyurl:P.shared.ty_url,U=F.skip_url.length>0?F.skip_url:P.shared.skip_url,Q=F.tr_brand.length>0?F.tr_brand:P.tracking.tracking_domain,j=F.aid_ping.length>0?F.aid_ping:P.tracking.tracking_aid,W=T(P.crx.cws_ids),V={cws_id:W,bundle_path:D,bundle_code:M,binary_url:O,asset_url:tag_config.crx_1.asset_url},$={xpi_alias:P.xpi.xpi_alias,xpi_location:P.xpi.xpi_location,bundle_path:N,bundle_code:X,xpi_iconURL:"",xpi_hash:P.xpi.xpi_hash},G={partner_name:P.modal.partner_name,logo_url:P.modal.logo_url,screenshot_url:P.modal.screenshot_url,privacy_policy:P.modal.privacy_policy,terms_of_service:P.modal.terms_of_service},J="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 1 of 2<p>",Z="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 2 of 2<p>",K="<p class='tr2s_st1' style='color:#fff!important;font-size:18px;font-weight:700;margin:30px auto 10px;'>Try a Faster, more Accurate Search Experience</p><p class='tr2s_st2' style='color:#fff!important;font-size:11px;line-height:12px;width:400px;padding-left:50px;'>Enhance your New Tab Page with the most intuitive, fast and accurate Search powered by Yahoo!</p><p class='tr2s_st3' style='font-size:25px;font-weight:700;margin-top:20px;color:#fff;line-height:12px;'>Click Here To Proceed to Next Step</p>",ee="<p class='tr2s_st4' style='font-size:40px;font-weight:700;color:#fff;padding:30px 0px 20px 0px;margin:0;'>"+tag_config.modal.top_line+"</p><p class='tr2s_st5' style='color:#fff!important;margin:0px;'>"+tag_config.modal.bottom_line+"</p>",te="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 1 of 2<p>",oe="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 2 of 2<p>",re="<p class='tr2s_st1' style='color:#fff!important;font-size:18px;font-weight:700;margin:30px auto 10px;'>Try a Faster, more Accurate Search Experience</p><p class='tr2s_st2' style='color:#fff!important;font-size:11px;margin-bottom:10px;margin-top:-5px;line-height:12px;width:350px;margin:0 auto;'>Enhance your New Tab Page with the most intuitive, fast and accurate Search powered by Yahoo!</p><p class='tr2s_st3' style='font-size:25px;font-weight:700;margin-top:20px;color:#fff;line-height:12px;'></p>",ne="<p class='tr2s_st4' style='font-size:40px;font-weight:700;color:#fff;padding:30px 0px 20px 0px;margin:0;'>"+tag_config.modal.top_line+"</p><p class='tr2s_st5' style='color:#fff!important;margin:0px;'>"+tag_config.modal.bottom_line+"</p>",ae={crx2ID:tag_config.crx_2.cws_id,crx2BP:tag_config.crx_2.bundle_path,crx2BC:tag_config.crx_2.bundle_code,iconURL:tag_config.crx_1.asset_url+tag_config.crx_2.iconURL,bgHexCode:tag_config.crx_2.bgHexCode,activeBtnHexCode:tag_config.crx_2.activeBtnHexCode,cancelCopy:"You sure you want to skip installing Search?",step1LS:J,step2LS:Z,step1RS:K,step2RS:ee,step1LSP2:te,step2LSP2:oe,step1RSP2:re,step2RSP2:ne};if("undefined"!=typeof variations)for(var ie=0;ie<variations.length;ie++)E(variations[ie].paramName)==variations[ie].paramValue&&L(variations[ie],V,$,ae);var le,se="",ce="",pe="",de=!1,ue=!1,fe=!1,xe=!1,ge=!1;"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",function(){e()},!1);
